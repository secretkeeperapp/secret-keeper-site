{"version":3,"sources":["static/hardware_wallet_instructions.md","SecretList.js","TestatorSecretView.js","CustomMenu.js","CustomAppBar.js","AppSetup.js","BeneficiarySecretView.js","BeneficiarySecretList.js","MainApp.js","HomeContent.js","GuideContent.js","FAQContent.js","Homepage.js","Routing.js","index.js"],"names":["module","exports","__webpack_require__","p","Transition","props","react_default","a","createElement","Slide_default","Object","assign","direction","SecretList","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleCloseEdit","setState","openEdit","handleOpenEdit","handleCloseDelete","event","openDeleteDialog","indexToDelete","undefined","handleOpenDelete","index","currSecretName","secrets","closeAndDelete","handleDelete","state","_this2","classes","currAccount","Type","Address","secretName","name","className","root","substring","length","List_default","map","value","ListItem_default","key","role","dense","button","selected","currSecretIndex","onClick","handleViewOnClick","ListItemText_default","primary","ListItemSecondaryAction_default","IconButton_default","aria-label","handleEditClick","Edit_default","Delete_default","Button_default","panelActionType","handleCancel","handleNewSecret","color","variant","disabled","secretKeeperContract","SecretList_DeleteDialog","React","Component","DeleteDialog","react","Dialog_default","open","TransitionComponent","keepMounted","onClose","aria-labelledby","aria-describedby","DialogTitle_default","id","Divider_default","DialogContent_default","DialogContentText_default","DialogActions_default","withStyles","theme","margin","spacing","unit","width","maxWidth","backgroundColor","palette","background","paper","toolbarButtons","marginLeft","customWidth","noMaxWidth","TestatorSecretView","handleClickOpen","actionType","shouldDisable","secretViewLoading","secret","secretProp","editableSecret","secretUndefinedView","style","padding","blankName","toStr","fontSize","Tooltip_default","title","Info_default","TextField_default","textField","onChange","updateEditable","helperText","error","multiline","rows","input","timeBeforeReveal","updateTimeEditable","inputProps","maxLength","FormControlLabel_default","paddingLeft","control","Switch_default","checked","checkedB","closeEdit","label","beneficiary_addr","handleSave","container","display","flexWrap","marginRight","marginTop","menu","shortAddr","addr","CustomMenuItem","aria-owns","menuOpen","menuName","aria-haspopup","handleMenu","renderSelected","Popper_default","anchorEl","transition","disablePortal","_ref","TransitionProps","placement","Grow_default","transformOrigin","Paper_default","ClickAwayListener_default","onClickAway","handleClose","renderMenuList","CustomMenu","menuItems","renderFunc","MenuList_default","item","MenuItem_default","handleMenuItemClick","currMenuIndices","renderListedAccount","account","renderListedContract","contract","address","renderListedRole","renderSelectedContract","val","allContracts","renderSelectedRole","allRoles","renderSelectedAccount","allAccounts","setCurrMenuIndex","currentTarget","contracts","accounts","roles","CustomMenu_CustomMenuItem","currAccountIndex","Menu_default","anchorOrigin","vertical","horizontal","flexGrow","grow","menuButton","CustomAppBar","currRole","currContract","renderCustomMenu","setupComplete","src_CustomMenu","AppBar_default","position","Toolbar_default","LockOpen_default","icon","Typography_default","Link","to","textDecoration","AppSetup","isSetupComplete","metamaskInstalled","metamaskUnlocked","network","disclaimerChecked","Fragment","layout","component","align","secondary","href","target","ListItemIcon_default","Checkbox_default","handleCheckDisclaimer","heroButtons","Grid_default","justify","handleLaunch","handleReload","appBar","defineProperty","breakpoints","up","marginBottom","buttons","justifyContent","BeneficiarySecretView","canDecryptSecret","parseInt","lastCheckIn","convertJSONToMS","currTs","ts","Date","toLocaleString","owner_addr","decryptSecret","decryptedSecret","BeneficiarySecretList","require","GAS","createMuiTheme","createPalette","light","main","dark","contrastText","staticContracts","secretKeeperContractDefinition","networks","MainApp","setAccountsIfMetamaskUnlocked","err","console","log","i","push","registerInstance","mmState","allSecrets","currTimestamp","checkInErrMsg","checkInLoading","secretViewErrMsg","shouldLaunch","newInds","JSON","parse","stringify","getSecretsForTestator","getSecretsForBeneficiary","metamaskSetup","asyncToGenerator","regenerator_default","mark","_callee","msg","wrap","_context","prev","next","window","ethereum","web3","Web3","isMetamaskInstalled","enable","logNetworkModern","getCurrTimestamp","t0","currentProvider","isUnlocked","stop","handleChange","auth","toEdit","handleReloadSetup","_ref2","_callee2","_context2","editSecret","addNewSecret","_x","apply","arguments","editedSecret","timeKey","deleteTestatorSecretInfoByIndex","from","gas","then","result","catch","message","handleRefresh","handleCheckIn","_ref3","_callee3","_context3","ReactGA","category","action","doCheckIn","_x2","handleDecryptSecret","decryptSecretForBeneficiary","utils","hexToAscii","bind","assertThisInitialized","isMetaMask","eth","net","getNetworkType","getBlockNumber","blockNumber","getBlock","currBlock","timestamp","checkIn","_this3","getLastCheckIn","contractAddr2","SecretKeeper","setProvider","at","instance2","_this4","intTs","instance","staticSecrets","names","timeBeforeReveals","lastCheckIns","owners","beneficiaryNotes","testator_notes","beneficiary_notes","_this5","convertMS","contractInstance","times","beneficiaries","_this6","ms","h","m","s","Math","floor","days","hours","minutes","seconds","obj","getAccounts","_this7","newSecret","timeDelayMs","convertJSONtoMS","asciiToHex","beneficiaryAddr","editTestatorSecretInfo","_this8","addTestatorSecretInfo","_this9","core_styles","src_CustomAppBar","src_AppSetup","alignItems","alignContent","paddingTop","xs","src_SecretList","src_BeneficiarySecretList","IconButton_IconButton_default","Refresh_default","CircularProgress_default","progress","renderCheckInPanel","renderSecretPanel","src_TestatorSecretView","src_BeneficiarySecretView","handleRetrieveSecret","HomeContent","match","heroContent","gutterBottom","lib","dist_es6","iconStyle","VpnKey_default","Computer_default","Web_default","SaveAlt_default","Timer_default","DefaultCodeRenderer","ReactMarkdown","renderers","code","DefaultBQRenderer","blockquote","CodeRenderer","overflowY","BQRenderer","GuideContent","terms","fetch","guideContentPath","response","text","react_markdown_default","source","GuideContentFunc","paddingRight","GuideContent_GuideContent","FAQContent","footers","description","@global","body","common","white","toolbarTitle","flex","concat","footer","borderTop","divider","Lock_default","noWrap","es_Switch","Route","exact","path","FAQContentFunc","classNames","App","src_MainApp","Home","src_Homepage","Routing","CssBaseline_default","HashRouter","initialize","pageview","ReactDOM","render","src_Routing","document","querySelector"],"mappings":"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","file":"static/js/main.1100436f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hardware_wallet_instructions.6fc4522a.md\";","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing.unit * 2\n  },\n  root: {\n    width: \"100%\",\n    maxWidth: 540,\n    backgroundColor: theme.palette.background.paper\n  },\n  toolbarButtons: {\n    marginLeft: \"auto\"\n  },\n  customWidth: {\n    maxWidth: 500\n  },\n  noMaxWidth: {\n    maxWidth: \"none\"\n  }\n});\n\nfunction Transition(props) {\n  return <Slide direction=\"up\" {...props} />;\n}\n\nclass SecretList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openDeleteDialog: false,\n      currSecretName: undefined,\n      indexToDelete: undefined,\n      openEdit: false\n    };\n  }\n\n  handleCloseEdit = () => {\n    this.setState({ openEdit: false });\n  };\n\n  handleOpenEdit = () => {\n    this.setState({ openEdit: true });\n  };\n\n  handleCloseDelete = event => {\n    this.setState({ openDeleteDialog: false, indexToDelete: undefined });\n  };\n\n  handleOpenDelete = index => event => {\n    this.setState({\n      openDeleteDialog: true,\n      currSecretName: this.props.secrets[index][\"name\"],\n      indexToDelete: index\n    });\n  };\n\n  closeAndDelete = index => event => {\n    this.setState({ indexToDelete: undefined, openDeleteDialog: false });\n    this.props.handleDelete(index)(null);\n  };\n\n  render() {\n    const { classes } = this.props;\n    const secrets = this.props.secrets;\n    let currAccount =\n      this.props.currAccount === undefined\n        ? { Type: \"None\", Address: \"None\" }\n        : this.props.currAccount;\n    const secretName =\n      this.state.indexToDelete === undefined\n        ? \"NONE\"\n        : secrets[this.state.indexToDelete].name;\n    return (\n      <div className={classes.root}>\n        {\"Testator Address: \" + currAccount[\"Address\"].substring(0, 10) + \"...\"}\n        <br />\n        {\"Secrets (\" + secrets.length + \")\"}\n        <List>\n          {secrets.map((value, index) => {\n            return (\n              <ListItem\n                key={index}\n                role={undefined}\n                dense\n                button\n                selected={this.props.currSecretIndex === index}\n                onClick={this.props.handleViewOnClick(index)}\n              >\n                <ListItemText primary={value[\"name\"]} />\n                <ListItemSecondaryAction>\n                  <IconButton\n                    aria-label=\"Edit\"\n                    onClick={this.props.handleEditClick(index)}\n                  >\n                    <EditIcon />\n                  </IconButton>\n                  <IconButton aria-label=\"Delete\">\n                    <DeleteIcon onClick={this.handleOpenDelete(index)} />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n            );\n          })}\n        </List>\n        <Button\n          onClick={\n            this.props.panelActionType === \"New\"\n              ? this.props.handleCancel\n              : this.props.handleNewSecret\n          }\n          color={this.props.panelActionType === \"New\" ? \"secondary\" : \"primary\"}\n          variant={\"contained\"}\n          disabled={\n            this.props.panelActionType === \"New\" ||\n            this.props.secretKeeperContract === undefined\n          }\n          className={classes.button}\n        >\n          {\"New Secret\"}\n        </Button>\n        <DeleteDialog\n          openDeleteDialog={this.state.openDeleteDialog}\n          handleCloseDelete={this.handleCloseDelete}\n          closeAndDelete={this.closeAndDelete}\n          indexToDelete={this.state.indexToDelete}\n          secretName={secretName}\n        />\n      </div>\n    );\n  }\n}\n\nSecretList.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nclass DeleteDialog extends React.Component {\n  render() {\n    return (\n      <Fragment>\n        <Dialog\n          open={this.props.openDeleteDialog}\n          TransitionComponent={Transition}\n          keepMounted\n          onClose={this.props.handleCloseDelete}\n          aria-labelledby=\"alert-dialog-slide-title\"\n          aria-describedby=\"alert-dialog-slide-description\"\n        >\n          <DialogTitle id=\"alert-dialog-slide-title\">\n            {\"Confirm Delete\"}\n          </DialogTitle>\n          <Divider />\n          <DialogContent>\n            <div>\n              <div>\n                <strong>\n                  {'Are you sure you want to delete the secret \"' +\n                    this.props.secretName +\n                    '\"?'}\n                </strong>\n              </div>\n            </div>\n            <DialogContentText id=\"alert-dialog-slide-description\" />\n          </DialogContent>\n          <DialogActions>\n            {/*TODO: index to delete could be undefined? */}\n            <Button\n              onClick={this.props.closeAndDelete(this.props.indexToDelete)}\n              color=\"primary\"\n            >\n              Delete\n            </Button>\n            <Button onClick={this.props.handleCloseDelete} color=\"primary\">\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Fragment>\n    );\n  }\n}\n\nexport default withStyles(styles)(SecretList);\n","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Switch from \"@material-ui/core/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nconst styles = theme => ({\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit\n  },\n  dense: {\n    marginTop: 16\n  },\n  menu: {\n    width: 200\n  },\n  button: {\n    margin: theme.spacing.unit\n  }\n});\n\nclass TestatorSecretView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false\n    };\n    //this.handleCloseEdit = this.handleCloseEdit.bind(this);\n  }\n\n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  render() {\n    const longText = `\n                  The secret, which should already be encrypted for the beneficiary with PGP.\n              `;\n\n    const { classes } = this.props;\n\n    const actionType = this.props.actionType;\n    const shouldDisable = actionType === \"View\" || this.props.secretViewLoading;\n\n    let secret = {};\n\n    if (actionType === \"View\") {\n      secret = this.props.secretProp;\n    } else if (actionType === \"Edit\" || actionType === \"New\") {\n      secret = this.props.editableSecret;\n    }\n\n    const secretUndefinedView = (\n      <div style={{ padding: 20 }}>\n        <strong>\n          No secret selected. Please select an existing secret or add a new one.\n        </strong>\n      </div>\n    );\n\n    if ((secret === undefined || secret === {}) && actionType !== \"New\") {\n      return secretUndefinedView;\n    }\n\n    const blankName = secret[\"name\"] === undefined || secret[\"name\"] === \"\";\n\n    // Necessary because TextField doesn't update if value is undefined.\n    const toStr = key => {\n      return key === undefined ? \"\" : key;\n    };\n\n    // Necessary because TextField doesn't update if value is undefined.\n    const toStrOrZero = key => {\n      return key === undefined ? \"0\" : key;\n    };\n\n    return (\n      <div>\n        <div style={{ padding: 10, fontSize: \"150%\" }}>\n          {actionType + \" Secret\"}\n        </div>\n        <Divider />\n        <div>\n          <div>\n            <strong>{\"Secret name: \"}</strong>\n            <Tooltip\n              title={\n                \"Currently stored unencrypted for both testator and beneficiary.\"\n              }\n            >\n              <IconButton aria-label=\"Info\">\n                <InfoIcon />\n              </IconButton>\n            </Tooltip>\n            <div>\n              <TextField\n                id=\"outlined-multiline-static\"\n                className={classes.textField}\n                disabled={shouldDisable}\n                onChange={this.props.updateEditable(\"name\")}\n                value={toStr(secret[\"name\"])}\n                margin=\"normal\"\n                variant=\"outlined\"\n                helperText={blankName ? \"Error: Name cannot be blank\" : \"\"}\n                error={blankName}\n              />\n            </div>\n          </div>\n          <br />\n          <div>\n            <strong>{\"Notes for beneficiary: \"}</strong>\n            <Tooltip\n              title={\n                \"Will only be viewable by the beneficiary and the testator.\"\n              }\n            >\n              <IconButton aria-label=\"Info\">\n                <InfoIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n          <div>\n            <TextField\n              id=\"outlined-multiline-static\"\n              multiline\n              rows=\"4\"\n              onChange={this.props.updateEditable(\"beneficiary_notes\")}\n              value={toStr(secret[\"beneficiary_notes\"])}\n              className={classes.textField}\n              disabled={shouldDisable}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n          </div>\n          <div>\n            <strong>{\"Time Delay: \"}</strong>\n            <Tooltip\n              title={\n                \"A fixed amount of time from the last check in, before the secret can be viewed by the beneficiary.\"\n              }\n            >\n              <IconButton aria-label=\"Info\">\n                <InfoIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n          <div>\n            {[\"days\", \"hours\", \"minutes\", \"seconds\"].map(input => {\n              return (\n                <Fragment>\n                  {input}\n                  <TextField\n                    id=\"outlined-multiline-static\"\n                    value={toStrOrZero(secret.timeBeforeReveal[input])}\n                    onChange={this.props.updateTimeEditable(\n                      \"timeBeforeReveal\",\n                      input\n                    )}\n                    className={classes.textField}\n                    disabled={shouldDisable}\n                    margin=\"normal\"\n                    variant=\"outlined\"\n                    style={{ width: 50 }}\n                    inputProps={{\n                      maxLength: 2\n                    }}\n                  />\n                </Fragment>\n              );\n            })}\n          </div>\n          <div>\n            <Tooltip title={longText}>\n              <strong>{\"Secret: \"}</strong>\n            </Tooltip>\n\n            <FormControlLabel\n              style={{ paddingLeft: 10 }}\n              control={\n                <Switch\n                  checked={this.state.checkedB}\n                  onChange={this.props.closeEdit}\n                  value=\"checkedB\"\n                  color=\"primary\"\n                />\n              }\n              label={\n                <Tooltip\n                  title={\n                    \"Will show the secret without Enigma's encryption (not recommended)\"\n                  }\n                >\n                  <IconButton aria-label=\"Info\">\n                    <InfoIcon />\n                  </IconButton>\n                </Tooltip>\n              }\n            />\n          </div>\n          <div style={{ padding: 10 }}>\n            <TextField\n              id=\"outlined-multiline-static\"\n              multiline\n              rows=\"4\"\n              value={toStr(secret.secret)}\n              onChange={this.props.updateEditable(\"secret\")}\n              className={classes.textField}\n              disabled={shouldDisable}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n          </div>\n          <div>\n            <strong>{\"Beneficiary ETH address: \"}</strong>\n            <Tooltip\n              title={\n                \"Will be used to identify the beneficiary, make sure this is correct.\"\n              }\n            >\n              <IconButton aria-label=\"Info\">\n                <InfoIcon />\n              </IconButton>\n            </Tooltip>\n            <div>\n              <TextField\n                id=\"outlined-multiline-static\"\n                value={toStr(secret.beneficiary_addr)}\n                onChange={this.props.updateEditable(\"beneficiary_addr\")}\n                className={classes.textField}\n                disabled={shouldDisable}\n                margin=\"normal\"\n                variant=\"outlined\"\n              />\n            </div>\n          </div>\n          <Divider />\n        </div>\n        {actionType !== \"View\" ? (\n          <div>\n            <Button\n              onClick={this.props.handleSave}\n              className={classes.button}\n              color=\"primary\"\n              variant={\"contained\"}\n              disabled={blankName || this.props.secretViewLoading}\n            >\n              Save\n            </Button>\n            <Button\n              className={classes.button}\n              onClick={this.props.handleCancel}\n              color=\"primary\"\n              variant={\"contained\"}\n              disabled={this.props.secretViewLoading}\n            >\n              Cancel\n            </Button>\n          </div>\n        ) : (\n          <div />\n        )}\n      </div>\n    );\n  }\n}\n\nTestatorSecretView.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(TestatorSecretView);\n","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\n\nconst styles = {\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  }\n};\n\nfunction shortAddr(addr) {\n  return addr.substring(0, 8);\n}\n\nclass CustomMenuItem extends React.Component {\n  render() {\n    return (\n      <Fragment>\n        <Button\n          aria-owns={\n            this.props.menuOpen === this.props.menuName\n              ? this.props.menuName\n              : undefined\n          }\n          aria-haspopup=\"true\"\n          onClick={this.props.handleMenu(this.props.menuName)}\n          color=\"inherit\"\n        >\n          {this.props.renderSelected()}\n        </Button>\n        <Popper\n          open={this.props.menuOpen === this.props.menuName}\n          anchorEl={this.props.anchorEl}\n          transition\n          disablePortal\n        >\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              id={this.props.menuName}\n              style={{\n                transformOrigin:\n                  placement === \"bottom\" ? \"center top\" : \"center bottom\"\n              }}\n            >\n              <Paper>\n                <ClickAwayListener onClickAway={this.props.handleClose}>\n                  {this.props.renderMenuList}\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </Fragment>\n    );\n  }\n}\n\nclass CustomMenu extends React.Component {\n  state = {\n    anchorEl: null,\n    menuOpen: null\n  };\n\n  renderMenuList = (menuName, menuItems, renderFunc) => {\n    return (\n      <MenuList>\n        {menuItems.map((item, index) => (\n          <MenuItem\n            key={index}\n            onClick={this.handleMenuItemClick(menuName, index)}\n            selected={index === this.props.currMenuIndices[menuName]}\n          >\n            {renderFunc(item)}\n          </MenuItem>\n        ))}\n      </MenuList>\n    );\n  };\n\n  renderListedAccount = account => {\n    return account[\"Type\"] + \":\" + account[\"Address\"] + \"...\";\n  };\n\n  renderListedContract = contract => {\n    return contract.name + \":\" + contract.address;\n  };\n\n  renderListedRole = role => {\n    return role;\n  };\n\n  renderSelectedContract = () => {\n    const index = this.props.currMenuIndices[\"contract\"];\n    let val = this.props.allContracts[index];\n    return \"Contract: \" + val.name + \" (\" + shortAddr(val.address) + \"...)\";\n  };\n\n  renderSelectedRole = () => {\n    const index = this.props.currMenuIndices[\"role\"];\n    let val = this.props.allRoles[index];\n    return \"Role: \" + val;\n  };\n\n  renderSelectedAccount = () => {\n    let val =\n      this.props.allAccounts === undefined\n        ? [{ Type: \"None\", Address: \"None\" }]\n        : this.props.allAccounts;\n    const index = this.props.currMenuIndices[\"account\"];\n    return (\n      \"Account: \" +\n      val[index][\"Type\"] +\n      \" (\" +\n      shortAddr(val[index][\"Address\"]) +\n      \"...)\"\n    );\n  };\n\n  handleMenuItemClick = (menuName, index) => () => {\n    // TODO: is there a better way to pass props up if I want them at each level?\n    this.props.setCurrMenuIndex(menuName)(index);\n    this.handleClose();\n  };\n\n  handleMenu = menuName => event => {\n    this.setState({ menuOpen: menuName, anchorEl: event.currentTarget });\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null, menuOpen: null });\n  };\n\n  render() {\n    const { anchorEl } = this.state;\n\n    // const displayAccounts = (selected)\n    const contracts = this.props.allContracts;\n\n    const { allAccounts } = this.props;\n    let accounts =\n      allAccounts !== undefined\n        ? allAccounts\n        : [{ Type: \"None\", Address: \"None\" }];\n\n    const roles = this.props.allRoles;\n\n    return (\n      <Fragment>\n        <CustomMenuItem\n          anchorEl={this.state.anchorEl}\n          menuOpen={this.state.menuOpen}\n          menuName={\"menu-role\"}\n          handleMenu={this.handleMenu}\n          renderSelected={this.renderSelectedRole}\n          handleClose={this.handleClose}\n          currAccountIndex={this.props.currMenuIndices[\"role\"]}\n          renderMenuList={this.renderMenuList(\n            \"role\",\n            roles,\n            this.renderListedRole\n          )}\n        />\n        <CustomMenuItem\n          anchorEl={this.state.anchorEl}\n          menuOpen={this.state.menuOpen}\n          menuName={\"menu-contract\"}\n          handleMenu={this.handleMenu}\n          renderSelected={this.renderSelectedContract}\n          handleClose={this.handleClose}\n          currAccountIndex={this.props.currMenuIndices[\"contract\"]}\n          renderMenuList={this.renderMenuList(\n            \"contract\",\n            contracts,\n            this.renderListedContract\n          )}\n        />\n        <CustomMenuItem\n          anchorEl={this.state.anchorEl}\n          menuOpen={this.state.menuOpen}\n          menuName={\"menu-account\"}\n          handleMenu={this.handleMenu}\n          renderSelected={this.renderSelectedAccount}\n          handleClose={this.handleClose}\n          currAccountIndex={this.props.currMenuIndices[\"account\"]}\n          renderMenuList={this.renderMenuList(\n            \"account\",\n            accounts,\n            this.renderListedAccount\n          )}\n        />\n        <Menu\n          id=\"menu-role\"\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: \"top\",\n            horizontal: \"right\"\n          }}\n          transformOrigin={{\n            vertical: \"top\",\n            horizontal: \"right\"\n          }}\n          open={this.state.menuOpen === \"role\"}\n          onClose={this.handleClose}\n        >\n          <MenuItem onClick={this.handleClose}>Testator</MenuItem>\n          <MenuItem onClick={this.handleClose}>Beneficiary</MenuItem>\n        </Menu>\n      </Fragment>\n    );\n  }\n}\n\nCustomMenu.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(CustomMenu);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\nimport CustomMenu from \"./CustomMenu\";\nimport { Link } from \"react-router-dom\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  },\n  icon: {\n    marginRight: theme.spacing.unit * 2\n  }\n});\n\nclass CustomAppBar extends React.Component {\n  state = {\n    anchorEl: null,\n    menuOpen: null,\n    currRole: \"Beneficiary\",\n    currAccount: { Type: \"Ledger\", Address: \"0x123456\" },\n    currContract: { Type: \"Simple\", Address: \"0x132435\" }\n  };\n\n  handleMenu = menuName => event => {\n    this.setState({ menuOpen: menuName, anchorEl: event.currentTarget });\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null, menuOpen: null });\n  };\n\n  renderCustomMenu = () => {\n    if (this.props.setupComplete === true) {\n      return (\n        <div>\n          <CustomMenu\n            allAccounts={this.props.allAccounts}\n            allContracts={this.props.allContracts}\n            allRoles={this.props.allRoles}\n            currMenuIndices={this.props.currMenuIndices}\n            setCurrMenuIndex={this.props.setCurrMenuIndex}\n          />\n        </div>\n      );\n    } else {\n      return <div />;\n    }\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <AppBar position=\"relative\">\n        <Toolbar>\n          <LockOpenIcon className={classes.icon} />\n\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n            <Link to={\"/\"} style={{ color: \"inherit\", textDecoration: \"none\" }}>\n              SecretKeeper{\" \"}\n            </Link>\n          </Typography>\n          {this.renderCustomMenu()}\n        </Toolbar>\n      </AppBar>\n    );\n  }\n}\n\nCustomAppBar.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(CustomAppBar);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\n\n// https://github.com/mui-org/material-ui/blob/master/docs/src/pages/getting-started/page-layout-examples/checkout/Checkout.js\nconst styles = theme => ({\n  appBar: {\n    position: \"relative\"\n  },\n  layout: {\n    width: \"auto\",\n    marginLeft: theme.spacing.unit * 2,\n    marginRight: theme.spacing.unit * 2,\n    [theme.breakpoints.up(600 + theme.spacing.unit * 2 * 2)]: {\n      width: 600,\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  },\n  paper: {\n    marginTop: theme.spacing.unit * 3,\n    marginBottom: theme.spacing.unit * 3,\n    padding: theme.spacing.unit * 2,\n    [theme.breakpoints.up(600 + theme.spacing.unit * 3 * 2)]: {\n      marginTop: theme.spacing.unit * 3,\n      marginBottom: theme.spacing.unit * 3,\n      padding: theme.spacing.unit * 3\n    }\n  },\n  heroButtons: {\n    marginTop: theme.spacing.unit * 4\n  },\n  buttons: {\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  },\n  button: {\n    marginTop: theme.spacing.unit * 3,\n    marginLeft: theme.spacing.unit\n  }\n});\n\nclass AppSetup extends React.Component {\n  state = {};\n\n  isSetupComplete = () => {\n    return (\n      this.props.metamaskInstalled &&\n      this.props.metamaskUnlocked &&\n      this.props.network === \"ropsten\" &&\n      this.props.disclaimerChecked\n    );\n  };\n\n  render() {\n    const { classes } = this.props;\n    var secondary = true;\n    return (\n      <React.Fragment>\n        <main className={classes.layout}>\n          <Paper className={classes.paper}>\n            <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n              Get started with SecretKeeper\n            </Typography>\n            <Typography component=\"h1\" variant=\"h6\" align=\"center\">\n              Please complete all the steps below to start using the app.\n            </Typography>\n            <List dense={false}>\n              <ListItem>\n                <ListItemText\n                  primary=\"Get Metamask\"\n                  secondary={\n                    <a>\n                      {\" \"}\n                      You can install it{\" \"}\n                      <a href=\"https://metamask.io/\" target=\"_blank\">\n                        here.\n                      </a>\n                    </a>\n                  }\n                />\n                <ListItemIcon>\n                  <Checkbox\n                    checked={this.props.metamaskInstalled}\n                    disabled={true}\n                  />\n                </ListItemIcon>\n              </ListItem>\n              <ListItem>\n                <ListItemText\n                  primary={\"Unlock Metamask\"}\n                  secondary={\"Allow SecretKeeper to connect to your account.\"}\n                />\n                <ListItemIcon>\n                  <Checkbox\n                    checked={this.props.metamaskUnlocked}\n                    disabled={true}\n                  />\n                </ListItemIcon>{\" \"}\n              </ListItem>\n              <ListItem>\n                <ListItemText\n                  primary={\"Connect to the Ropsten testnet\"}\n                  secondary={\n                    \"SecretKeeper is not currently available on mainnet.\"\n                  }\n                />\n\n                <ListItemIcon>\n                  {/* // TODO: display the current network */}\n                  <Checkbox\n                    checked={this.props.network === \"ropsten\"}\n                    disabled={true}\n                  />\n                </ListItemIcon>\n              </ListItem>\n              <ListItem>\n                <ListItemText\n                  primary=\"Accept the disclaimer\"\n                  secondary={\n                    \"By checking this box, you agree to all of the terms in the disclaimer below.\"\n                  }\n                />\n                <ListItemIcon>\n                  <Checkbox\n                    onClick={this.props.handleCheckDisclaimer}\n                    checked={this.props.disclaimerChecked}\n                  />\n                </ListItemIcon>\n              </ListItem>\n            </List>\n            <div className={classes.heroButtons}>\n              <Grid container spacing={16} justify=\"center\">\n                <Grid item>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    disabled={!this.isSetupComplete()}\n                    onClick={this.props.handleLaunch}\n                  >\n                    Launch\n                  </Button>\n                </Grid>\n                <Grid item>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={this.props.handleReload}\n                  >\n                    Reload\n                  </Button>\n                </Grid>\n              </Grid>\n            </div>\n          </Paper>\n          <Paper className={classes.paper}>\n            <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n              Disclaimer\n            </Typography>\n            <Typography component=\"h4\" variant=\"text\" align=\"center\">\n              The SecretKeeper decentralized application (hereinafter, the\n              dApp') is an Alpha release that will contain bugs. By using the\n              dApp, users acknowledge this and accept that SecretKeeper and its\n              developers do not take any responsibility for lost funds, exposure\n              of private information, or any other kind of direct or indirect\n              damages or loss.\n              <br />\n              Some technical skills and knowledge are required to use the dApp,\n              and first time users should read the FAQ and guide to understand\n              the usage thoroughly.\n              <br />\n              Users are advised to be careful with their private information and\n              when interacting or storing data in a public network, for their\n              own safety. Instructional videos are not yet available but are\n              planned.\n              <br />\n              Any of the dApp policies, content, information, promotions,\n              disclosures, disclaimers and features (hereinafter,  dApp\n              content) may be revised, modified, updated, and/or supplemented\n              at any time, and without prior notice, at the sole and absolute\n              discretion of the apps developers. All dApp content is subject to\n              change at any time, without advance notice provided to users.{\" \"}\n            </Typography>\n          </Paper>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nAppSetup.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(AppSetup);\n","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst styles = theme => ({\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit\n  },\n  dense: {\n    marginTop: 16\n  },\n  menu: {\n    width: 200\n  },\n  button: {\n    margin: theme.spacing.unit\n  }\n});\n\nclass BeneficiarySecretView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false\n    };\n  }\n\n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  canDecryptSecret = () => {\n    return (\n      parseInt(this.props.secretProp.lastCheckIn, 16) * 1000 +\n        this.props.convertJSONToMS(this.props.secretProp.timeBeforeReveal) <=\n      this.props.currTs * 1000\n    );\n  };\n\n  render() {\n    const longText = `\n                  The secret, which should already be encrypted for the beneficiary with PGP.\n              `;\n\n    const { classes } = this.props;\n\n    const actionType = this.props.actionType;\n    const shouldDisable = true;\n\n    let secret = {};\n\n    secret = this.props.secretProp;\n\n    const secretUndefinedView = (\n      <div style={{ padding: 20 }}>\n        <strong>No secret selected. Please select an existing secret.</strong>\n      </div>\n    );\n\n    if (secret === undefined || secret === {}) {\n      return secretUndefinedView;\n    }\n\n    const blankName = secret[\"name\"] === undefined || secret[\"name\"] === \"\";\n\n    // Necessary because TextField doesn't update if value is undefined.\n    const toStr = key => {\n      return key === undefined ? \"\" : key;\n    };\n\n    // Necessary because TextField doesn't update if value is undefined.\n    const toStrOrZero = key => {\n      return key === undefined ? \"0\" : key;\n    };\n\n    const tsToString = ts => {\n      // TODO: why do I have to use radix 16 here but not in check in panel?\n      let result = new Date(parseInt(ts, 16) * 1000);\n      return result.toLocaleString();\n    };\n\n    return (\n      <div>\n        <div style={{ padding: 10, fontSize: \"150%\" }}>\n          {actionType + \" Secret\"}\n        </div>\n        <Divider />\n        <div>\n          <div>\n            <strong>{\"Secret name: \"}</strong>\n            <Tooltip\n              title={\n                \"Currently stored unencrypted for both testator and beneficiary.\"\n              }\n            >\n              <IconButton aria-label=\"Info\">\n                <InfoIcon />\n              </IconButton>\n            </Tooltip>\n            <div>\n              <TextField\n                id=\"outlined-multiline-static\"\n                className={classes.textField}\n                disabled={shouldDisable}\n                value={toStr(secret[\"name\"])}\n                margin=\"normal\"\n                variant=\"outlined\"\n                helperText={blankName ? \"Error: Name cannot be blank\" : \"\"}\n                error={blankName}\n              />\n            </div>\n          </div>\n          <br />\n          <div>\n            <strong>{\"Notes for beneficiary: \"}</strong>\n            <Tooltip title={\"Currently public.\"}>\n              <IconButton aria-label=\"Info\">\n                <InfoIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n          <div>\n            <TextField\n              id=\"outlined-multiline-static\"\n              multiline\n              rows=\"4\"\n              value={toStr(secret[\"beneficiary_notes\"])}\n              className={classes.textField}\n              disabled={shouldDisable}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n          </div>\n          <div>\n            <strong>{\"Time Delay: \"}</strong>\n            <Tooltip\n              title={\n                \"A fixed amount of time from the last check in, before the secret can be viewed by the beneficiary. Currently public.\"\n              }\n            >\n              <IconButton aria-label=\"Info\">\n                <InfoIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n          <div>\n            {[\"days\", \"hours\", \"minutes\", \"seconds\"].map(input => {\n              return (\n                <Fragment>\n                  {input}\n                  <TextField\n                    id=\"outlined-multiline-static\"\n                    value={toStrOrZero(secret.timeBeforeReveal[input])}\n                    className={classes.textField}\n                    disabled={true}\n                    margin=\"normal\"\n                    variant=\"outlined\"\n                    style={{ width: 50 }}\n                    inputProps={{\n                      maxLength: 2\n                    }}\n                  />\n                </Fragment>\n              );\n            })}\n          </div>\n          <div>\n            <strong>{\"Last Check In: \"}</strong>\n            <Tooltip title={\"The last time the testator checked in.\"}>\n              <IconButton aria-label=\"Info\">\n                <InfoIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n          <div>\n            <TextField\n              id=\"outlined-multiline-static\"\n              value={tsToString(secret.lastCheckIn)}\n              className={classes.textField}\n              disabled={true}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n          </div>\n          <div>\n            <Tooltip title={longText}>\n              <strong>{\"Secret: \"}</strong>\n            </Tooltip>\n          </div>\n          <div style={{ padding: 10 }}>\n            <TextField\n              id=\"outlined-multiline-static\"\n              multiline\n              rows=\"4\"\n              value={toStr(secret.secret)}\n              className={classes.textField}\n              disabled={shouldDisable}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n          </div>\n          <div>\n            <strong>{\"Testator ETH address: \"}</strong>\n            <Tooltip title={\"The secret owner's address.\"}>\n              <IconButton aria-label=\"Info\">\n                <InfoIcon />\n              </IconButton>\n            </Tooltip>\n            <div>\n              <TextField\n                id=\"outlined-multiline-static\"\n                value={toStr(secret.owner_addr)}\n                className={classes.textField}\n                disabled={shouldDisable}\n                margin=\"normal\"\n                variant=\"outlined\"\n              />\n            </div>\n          </div>\n          <Divider />\n        </div>\n        <div>\n          <Button\n            onClick={this.props.decryptSecret}\n            className={classes.button}\n            color=\"primary\"\n            variant={\"contained\"}\n            disabled={!this.canDecryptSecret()}\n          >\n            Decrypt Secret\n          </Button>\n        </div>\n        <div>\n          <div style={{ padding: \"10px\" }}>\n            This functionality simulates locking and unlocking the secret, since\n            Enigma is not yet live to decrypt the secret.\n            {!this.canDecryptSecret()\n              ? \" The time delay has not yet passed from the last check in.\"\n              : \" The time delay has passed and the secret can now be decrypted.\"}\n          </div>\n          {this.props.decryptedSecret === undefined ? (\n            \"\"\n          ) : (\n            <div>\n              <strong>Decrypted Secret:</strong>\n              <div style={{ padding: 10 }}>\n                <TextField\n                  id=\"outlined-multiline-static\"\n                  multiline\n                  rows=\"4\"\n                  value={this.props.decryptedSecret}\n                  className={classes.textField}\n                  disabled={shouldDisable}\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nBeneficiarySecretView.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(BeneficiarySecretView);\n","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Slide from \"@material-ui/core/Slide\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing.unit * 2\n  },\n  root: {\n    width: \"100%\",\n    maxWidth: 540,\n    backgroundColor: theme.palette.background.paper\n  },\n  toolbarButtons: {\n    marginLeft: \"auto\"\n  },\n  customWidth: {\n    maxWidth: 500\n  },\n  noMaxWidth: {\n    maxWidth: \"none\"\n  }\n});\n\nfunction Transition(props) {\n  return <Slide direction=\"up\" {...props} />;\n}\n\nclass BeneficiarySecretList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currSecretName: undefined\n    };\n  }\n\n  render() {\n    const { classes } = this.props;\n    const secrets = this.props.secrets;\n    let currAccount =\n      this.props.currAccount === undefined\n        ? { Type: \"None\", Address: \"None\" }\n        : this.props.currAccount;\n    const secretName =\n      this.state.indexToDelete === undefined\n        ? \"NONE\"\n        : secrets[this.state.indexToDelete].name;\n    return (\n      <div className={classes.root}>\n        {\"Beneficiary Address: \" +\n          currAccount[\"Address\"].substring(0, 10) +\n          \"...\"}\n        <br />\n        {\"Secrets (\" + secrets.length + \")\"}\n        <List>\n          {secrets.map((value, index) => {\n            return (\n              <ListItem\n                key={index}\n                role={undefined}\n                dense\n                button\n                selected={this.props.currSecretIndex === index}\n                onClick={this.props.handleViewOnClick(index)}\n              >\n                <ListItemText primary={value[\"name\"]} />\n              </ListItem>\n            );\n          })}\n        </List>\n      </div>\n    );\n  }\n}\n\nBeneficiarySecretList.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(BeneficiarySecretList);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SecretList from \"./SecretList\";\nimport TestatorSecretView from \"./TestatorSecretView\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport CustomAppBar from \"./CustomAppBar\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport Web3 from \"web3\";\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport ReactGA from \"react-ga\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport secretKeeperContractDefinition from \"./contracts/SecretKeeper.json\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport createPalette from \"@material-ui/core/styles/createPalette\";\nimport CssBaseline from \"@material-ui/core/es/CssBaseline/CssBaseline\";\nimport AppSetup from \"./AppSetup\";\nimport BeneficiarySecretView from \"./BeneficiarySecretView\";\nimport BeneficiarySecretList from \"./BeneficiarySecretList\";\n\nvar contract = require(\"truffle-contract\");\n\nconst GAS = \"400000\";\n\nconst theme = createMuiTheme({\n  palette: createPalette({\n    primary: {\n      light: \"#757ce8\",\n      main: \"#3c9eb5\",\n      dark: \"#506184\",\n      contrastText: \"#fff\"\n    },\n    secondary: {\n      light: \"#ff7961\",\n      main: \"#f44336\",\n      dark: \"#ba000d\",\n      contrastText: \"#000\"\n    }\n  })\n});\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  },\n  button: {\n    margin: theme.spacing.unit * 2\n  },\n  progress: {\n    margin: theme.spacing.unit * 2\n  }\n});\n\nconst staticContracts = [\n  {\n    name: \"version_1.0\",\n    address: secretKeeperContractDefinition.networks[\"3\"].address\n  }\n];\n\nclass MainApp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.isUnlocked = this.isUnlocked.bind(this);\n    this.setAccountsIfMetamaskUnlocked = this.setAccountsIfMetamaskUnlocked.bind(\n      this\n    );\n  }\n\n  isMetamaskInstalled() {\n    if (typeof web3 !== \"undefined\" && window.web3.currentProvider.isMetaMask) {\n      console.log(\"METAMASK INSTALLED!\");\n      return true;\n    } else {\n      console.log(\"NOT INSTALLED\");\n      return false;\n    }\n  }\n\n  // TODO: fix bug in original where getNetwork() isn't a function:\n  // https://github.com/MetaMask/faq/blob/master/DEVELOPERS.md\n  // See https://github.com/ethereum/web3.js/issues/1353\n  // Also, apparently this isn't a completely accurate method:\n  // https://web3js.readthedocs.io/en/1.0/web3-eth-net.html#getnetworktype\n  async logNetworkModern() {\n    window.web3.eth.net.getNetworkType((err, network) => {\n      console.log(\"Using network: \" + network);\n      this.setState({ network: network });\n    });\n  }\n\n  // https://timestamp.online/article/how-to-convert-timestamp-to-datetime-in-javascript\n  async getCurrTimestamp() {\n    let blockNumber = await window.web3.eth.getBlockNumber();\n    let currBlock = await window.web3.eth.getBlock(blockNumber);\n    // TODO: throw a better error if currBlock.timestamp doesn't exist, currBlock can be null!\n    if (currBlock === null || currBlock.timestamp === undefined) {\n      console.log(\"couldn't get current block timestamp\");\n      return;\n    }\n    let ts = new Date(currBlock.timestamp * 1000);\n    this.setState({\n      currTimestamp: ts.toLocaleString(),\n      currTs: currBlock.timestamp\n    });\n  }\n\n  async doCheckIn() {\n    let account = this.state.allAccounts[0];\n    this.setState({ checkInLoading: true, checkInErrMsg: \"Checking in...\" });\n    this.state.secretKeeperContract\n      .checkIn({ from: account.Address, gas: GAS })\n      .then(result => {\n        console.log(\"Got check in receipt: \" + JSON.stringify(result));\n        this.state.secretKeeperContract\n          .getLastCheckIn({ from: account.Address, gas: GAS })\n          .then(result => {\n            console.log(\"Got last check in result: \" + JSON.stringify(result));\n            // TODO: error check here, of course.\n            let ts = new Date(parseInt(result) * 1000);\n            this.setState({\n              lastCheckIn: ts.toLocaleString(),\n              checkInLoading: false,\n              checkInErrMsg: \"Check in complete!\"\n            });\n          })\n          .catch(err => {\n            console.log(\"Error when getting new last check in: \" + err.message);\n            this.setState({\n              checkInLoading: false,\n              checkInErrMsg: err.message\n            });\n          });\n      })\n      .catch(err => {\n        console.log(\"Error when checking in: \" + err.message);\n        this.setState({\n          checkInLoading: false,\n          checkInErrMsg: err.message\n        });\n      });\n  }\n\n  setAccountsIfMetamaskUnlocked = (err, accounts) => {\n    if (err != null) {\n      console.log(err);\n      return false;\n    } else if (accounts.length === 0) {\n      console.log(\"MetaMask is locked\");\n      return false;\n    } else {\n      console.log(\"MetaMask is unlocked: \" + accounts);\n      let allAccounts = [];\n      for (var i = 0; i < accounts.length; i++) {\n        allAccounts.push({ Type: \"Metamask\", Address: accounts[i] });\n      }\n      this.setState({\n        metamaskUnlocked: true,\n        allAccounts: allAccounts\n      });\n\n      this.registerInstance();\n      return true;\n    }\n  };\n\n  async registerInstance() {\n    // https://github.com/trufflesuite/truffle-contract#full-example\n    var contractAddr2 = secretKeeperContractDefinition.networks[\"3\"].address;\n    console.log(\"Using secret keeper contract address: \" + contractAddr2);\n    var instance2;\n    var SecretKeeper = contract(secretKeeperContractDefinition);\n    SecretKeeper.setProvider(window.web3.currentProvider);\n\n    // add snackbar for \"please complete metamask transaction\"?\n    // Could use deployed() as well.\n    // Get contract instance and last check in time.\n\n    SecretKeeper.at(contractAddr2)\n      .then(result => {\n        instance2 = result;\n\n        console.log(\"Instance addr: \" + instance2.address);\n        this.setState({ secretKeeperContract: instance2 });\n        this.getSecretsForTestator(instance2);\n        return instance2.getLastCheckIn({\n          from: this.state.allAccounts[0].Address,\n          gas: GAS\n        });\n      })\n      .then(result => {\n        console.log(\"Result for old last check in: \" + JSON.stringify(result));\n        let intTs = parseInt(result);\n        let ts = new Date(intTs * 1000);\n        this.setState({\n          lastCheckIn: intTs === 0 ? \"None\" : ts.toLocaleString()\n        });\n      })\n      .catch(err => {\n        console.log(\n          \"Error for getting initial secret and last check in (testator): \" +\n            JSON.stringify(err)\n        );\n        this.setState({ checkInErrMsg: err.message });\n      });\n  }\n\n  async getSecretsForBeneficiary(instance) {\n    const account = this.state.allAccounts[0];\n\n    instance\n      .getSecretsForBeneficiary({\n        from: account.Address,\n        gas: GAS\n      })\n      .then(result => {\n        console.log(\n          \"Result for secrets (beneficiary): \" + JSON.stringify(result)\n        );\n        var staticSecrets = [];\n        var secrets = result.secrets;\n        var names = result.names;\n        var timeBeforeReveals = result.timeBeforeReveals;\n        var lastCheckIns = result.lastCheckIns;\n        var owners = result.owners;\n        var beneficiaryNotes = result.beneficiaryNotes;\n\n        for (var i = 0; i < secrets.length; i++) {\n          staticSecrets.push({\n            name: names[i],\n            testator_notes: \"NONE\",\n            beneficiary_notes: beneficiaryNotes[i],\n            timeBeforeReveal: this.convertMS(timeBeforeReveals[i]),\n            lastCheckIn: lastCheckIns[i],\n            secret: window.web3.utils.hexToAscii(secrets[i]),\n            owner_addr: owners[i]\n          });\n        }\n        // TODO: maybe use different allSecrets?\n        this.setState({\n          allSecrets: staticSecrets,\n          // TODO: this is a little hacky and hidden\n          currSecretIndex: undefined\n        });\n      })\n      .catch(err => {\n        console.log(\n          \"Error for getting secrets (beneficiary): \" + JSON.stringify(err)\n        );\n        this.setState({ checkInErrMsg: err.message });\n      });\n  }\n\n  async getSecretsForTestator(contractInstance) {\n    const account = this.state.allAccounts[0];\n\n    contractInstance\n      .getSecretsForTestator({\n        from: account.Address,\n        gas: GAS\n      })\n      .then(result => {\n        console.log(\"Result for secrets (testator): \" + JSON.stringify(result));\n        var staticSecrets = [];\n        var names = result.names;\n        var secrets = result.secrets;\n        var times = result.times;\n        var beneficiaries = result.beneficiaries;\n        var beneficiaryNotes = result.beneficiaryNotes;\n\n        for (var i = 0; i < secrets.length; i++) {\n          staticSecrets.push({\n            name: names[i],\n            testator_notes: \"NONE\",\n            beneficiary_notes: beneficiaryNotes[i],\n            timeBeforeReveal: this.convertMS(times[i]),\n            secret: window.web3.utils.hexToAscii(secrets[i]),\n            beneficiary_addr: beneficiaries[i]\n          });\n        }\n        this.setState({\n          allSecrets: staticSecrets,\n          // TODO: this is a little hacky and hidden\n          currSecretIndex: undefined\n        });\n      })\n      .catch(err => {\n        console.log(\n          \"Error for getting secrets (testator): \" + JSON.stringify(err)\n        );\n        this.setState({ checkInErrMsg: err.message });\n      });\n  }\n\n  convertMS(ms) {\n    var d, h, m, s;\n    s = Math.floor(ms / 1000);\n    m = Math.floor(s / 60);\n    s = s % 60;\n    h = Math.floor(m / 60);\n    m = m % 60;\n    d = Math.floor(h / 24);\n    h = h % 24;\n    return { days: d, hours: h, minutes: m, seconds: s };\n  }\n\n  convertJSONtoMS(obj) {\n    var wrap = obj => {\n      return obj === undefined ? 0 : obj;\n    };\n    var ms =\n      1000 * parseInt(wrap(obj.seconds)) +\n      60 * 1000 * parseInt(wrap(obj.minutes)) +\n      60 * 60 * 1000 * parseInt(wrap(obj.hours)) +\n      24 * 60 * 60 * 1000 * parseInt(wrap(obj.days));\n    return ms;\n  }\n\n  // Should ONLY be called if installed is true.\n  isUnlocked() {\n    window.web3.eth.getAccounts(this.setAccountsIfMetamaskUnlocked);\n  }\n\n  state = {\n    anchorEl: null,\n    menuOpen: null,\n    mmState: this.mmState,\n    allAccounts: undefined,\n    allContracts: staticContracts,\n    currMenuIndices: { account: 0, contract: 0, role: 0 },\n    currSecretIndex: undefined,\n    panelActionType: \"View\",\n    editableSecret: {},\n    //allSecrets: staticSecrets,\n    allSecrets: [],\n    allRoles: [\"Testator\", \"Beneficiary\"],\n    currTimestamp: \"None\",\n    currTs: 0,\n    lastCheckIn: \"None\",\n    secretKeeperContract: undefined,\n    checkInErrMsg: \"\",\n    checkInLoading: false,\n    secretViewErrMsg: \"\",\n    secretViewLoading: false,\n    decryptedSecret: undefined,\n    // App setup state\n    metamaskInstalled: false,\n    metamaskUnlocked: false,\n    disclaimerChecked: false,\n    network: \"None\",\n    shouldLaunch: false\n  };\n\n  isSetupComplete = () => {\n    return (\n      this.state.metamaskInstalled &&\n      this.state.metamaskUnlocked &&\n      this.state.network === \"ropsten\" &&\n      this.state.disclaimerChecked &&\n      this.state.shouldLaunch\n    );\n  };\n\n  handleLaunch = () => {\n    this.setState({ shouldLaunch: true });\n  };\n\n  setCurrMenuIndex = menuName => index => {\n    let newInds = JSON.parse(JSON.stringify(this.state.currMenuIndices));\n    newInds[menuName] = index;\n\n    // Update the state for the selection.\n    if (this.state.currMenuIndices.role !== newInds.role) {\n      if (newInds.role === 0) {\n        // TODO: get secrets for beneficiary.\n        this.getSecretsForTestator(this.state.secretKeeperContract);\n      } else if (newInds.role === 1) {\n        this.getSecretsForBeneficiary(this.state.secretKeeperContract);\n      }\n    }\n\n    this.setState({ currMenuIndices: newInds });\n  };\n\n  componentDidMount() {\n    this.metamaskSetup();\n  }\n\n  metamaskSetup = () => {\n    // TODO: probably don't want to attach this to the window every time.\n    (async () => {\n      this.setState({ mmState: \"NOT_LOGGED_IN (please complete login)\" });\n      var metamaskInstalled = false;\n      // Modern dapp browsers...\n      if (window.ethereum) {\n        window.web3 = new Web3(window.ethereum);\n        metamaskInstalled = this.isMetamaskInstalled();\n        // Do an update now since we need to request account access.\n        this.setState({ metamaskInstalled: metamaskInstalled });\n        try {\n          // Request account access if needed\n          // TODO: if the user just exits here, it doesn't throw an error.\n          await window.ethereum.enable();\n          this.mmState = \"Connected\";\n\n          this.logNetworkModern();\n          this.getCurrTimestamp();\n\n          // Acccounts now exposed\n          /*\n          window.web3.eth.sendTransaction({\n\n          });\n          */\n        } catch (error) {\n          // User denied account access...\n          console.log(error);\n          this.mmState = \"USER ACCESS DENIED: Got an error: \" + error;\n        }\n      }\n      // Legacy dapp browsers...\n      else if (window.web3) {\n        window.web3 = new Web3(window.web3.currentProvider);\n        metamaskInstalled = this.isMetamaskInstalled();\n        // Do an update now since we need to request account access.\n        this.setState({ metamaskInstalled: metamaskInstalled });\n        // Acccounts always exposed\n        this.mmState = \"OK: Found legacy Dapp browser.\";\n        // TODO: test if you need to log in a different manner here with web3.version.getNetwork();\n        /*\n        window.web3.eth.sendTransaction({\n\n        });\n        */\n        this.logNetworkModern();\n        this.getCurrTimestamp();\n      }\n      // Non-dapp browsers...\n      else {\n        this.mmState = \"NO_SUPPORT\";\n        let msg =\n          \"Non-Ethereum browser detected. You should consider trying MetaMask!\";\n        console.log(msg);\n        this.mmState = \"NO_SUPPORT: \" + msg;\n      }\n\n      if (metamaskInstalled) {\n        // TODO: this does a setState() for allAccounts., make it more clear.\n        await this.isUnlocked();\n      }\n\n      this.setState({\n        mmState: this.mmState,\n        metamaskInstalled: metamaskInstalled\n      });\n    })();\n  };\n\n  handleChange = event => {\n    this.setState({ auth: event.target.checked });\n  };\n\n  handleMenu = menuName => event => {\n    this.setState({ menuOpen: menuName });\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleClose = () => {\n    this.setState({ menuOpen: null, anchorEl: null });\n  };\n\n  handleViewOnClick = index => () => {\n    this.setState({ currSecretIndex: index, panelActionType: \"View\" });\n  };\n\n  handleEditClick = index => (event, value) => {\n    let toEdit = this.state.allSecrets[index];\n\n    this.setState({\n      currSecretIndex: index,\n      panelActionType: \"Edit\",\n      editableSecret: JSON.parse(JSON.stringify(toEdit))\n    });\n  };\n\n  handleReloadSetup = () => {\n    this.metamaskSetup();\n  };\n\n  handleCancel = event => {\n    this.setState({ currSecretIndex: undefined, panelActionType: \"View\" });\n  };\n\n  handleNewSecret = event => {\n    this.setState({\n      currSecretIndex: undefined,\n      panelActionType: \"New\",\n      editableSecret: { timeBeforeReveal: {} }\n    });\n  };\n\n  handleSave = async event => {\n    if (this.state.panelActionType === \"Edit\") {\n      this.editSecret();\n    } else if (this.state.panelActionType === \"New\") {\n      this.addNewSecret();\n    }\n  };\n\n  editSecret() {\n    this.setState({\n      secretViewLoading: true,\n      secretViewErrMsg: \"Editing secret...\"\n    });\n    // TODO: decide how to input timestamp.\n    let newSecret = this.state.editableSecret;\n\n    var name = newSecret.name;\n    var beneficiaryNotes = newSecret.beneficiary_notes;\n    var timeDelayMs = this.convertJSONtoMS(newSecret.timeBeforeReveal);\n    var secret = window.web3.utils.asciiToHex(newSecret.secret);\n    var beneficiaryAddr = newSecret.beneficiary_addr;\n\n    const account = this.state.allAccounts[0];\n\n    this.state.secretKeeperContract\n      .editTestatorSecretInfo(\n        this.state.currSecretIndex,\n        secret,\n        name,\n        timeDelayMs,\n        beneficiaryAddr,\n        beneficiaryNotes,\n        { from: account.Address, gas: GAS }\n      )\n      .then(result => {\n        console.log(result);\n        this.setState({\n          secretViewErrMsg: \"Edit success!\",\n          secretViewLoading: false,\n          panelActionType: \"View\",\n          currSecretIndex: undefined\n        });\n        this.getSecretsForTestator(this.state.secretKeeperContract);\n      })\n      .catch(err => {\n        console.log(err.message);\n        this.setState({\n          secretViewErrMsg: err.message,\n          secretViewLoading: false\n        });\n      });\n  }\n\n  addNewSecret() {\n    this.setState({\n      secretViewLoading: true,\n      secretViewErrMsg: \"Adding secret...\"\n    });\n    // TODO: decide how to input timestamp.\n    let newSecret = this.state.editableSecret;\n\n    var name = newSecret.name;\n    var beneficiaryNotes = newSecret.beneficiary_notes;\n    var timeDelayMs = this.convertJSONtoMS(newSecret.timeBeforeReveal);\n    var secret = window.web3.utils.asciiToHex(newSecret.secret);\n    var beneficiaryAddr = newSecret.beneficiary_addr;\n\n    const account = this.state.allAccounts[0];\n\n    this.state.secretKeeperContract\n      .addTestatorSecretInfo(\n        secret,\n        name,\n        timeDelayMs,\n        beneficiaryAddr,\n        beneficiaryNotes,\n        { from: account.Address, gas: GAS }\n      )\n      .then(result => {\n        console.log(result);\n        this.setState({\n          secretViewErrMsg: \"Success!\",\n          secretViewLoading: false,\n          panelActionType: \"View\",\n          currSecretIndex: undefined\n        });\n\n        this.getSecretsForTestator(this.state.secretKeeperContract);\n      })\n      .catch(err => {\n        console.log(err.message);\n        this.setState({\n          secretViewErrMsg: err.message,\n          secretViewLoading: false\n        });\n      });\n  }\n\n  updateEditable = key => event => {\n    let editedSecret = this.state.editableSecret;\n    editedSecret[key] = event.target.value;\n    this.setState({ editableSecret: editedSecret });\n  };\n\n  updateTimeEditable = (key, timeKey) => event => {\n    let editedSecret = this.state.editableSecret;\n    editedSecret[key][timeKey] = event.target.value;\n    this.setState({ editableSecret: editedSecret });\n  };\n\n  // Calls getSecretsForTestator() to update secret list after successful transaction receipt.\n  handleDelete = index => event => {\n    this.setState({\n      secretViewErrMsg: \"Deleting secret...\",\n      secretViewLoading: true\n    });\n\n    const account = this.state.allAccounts[0];\n\n    this.state.secretKeeperContract\n      .deleteTestatorSecretInfoByIndex(index, {\n        from: account.Address,\n        gas: GAS\n      })\n      .then(result => {\n        console.log(result);\n        this.setState({\n          secretViewErrMsg: \"Delete success!\",\n          secretViewLoading: false\n        });\n        this.getSecretsForTestator(this.state.secretKeeperContract);\n      })\n      .catch(err => {\n        console.log(err.message);\n        this.setState({\n          secretViewErrMsg: err.message,\n          secretViewLoading: false\n        });\n      });\n  };\n\n  handleRefresh = event => {\n    this.getCurrTimestamp();\n    this.getSecretsForTestator(this.state.secretKeeperContract);\n  };\n\n  handleCheckIn = async event => {\n    ReactGA.event({\n      category: \"User\",\n      action: \"Check In\"\n    });\n    this.doCheckIn();\n  };\n\n  handleCheckDisclaimer = event => {\n    this.setState({ disclaimerChecked: event.target.checked });\n  };\n\n  handleDecryptSecret = index => () => {\n    // TODO: make separate views for each action?\n    this.setState({\n      secretViewErrMsg: \"Mock decrypting secret...\",\n      secretViewLoading: true\n    });\n\n    const account = this.state.allAccounts[0];\n\n    this.state.secretKeeperContract\n      .decryptSecretForBeneficiary(index, {\n        from: account.Address,\n        gas: GAS\n      })\n      .then(result => {\n        this.setState({\n          secretViewErrMsg: \"Mock decrypt success!\",\n          secretViewLoading: false,\n          decryptedSecret: window.web3.utils.hexToAscii(result)\n        });\n      })\n      .catch(err => {\n        console.log(err.message);\n        this.setState({\n          secretViewErrMsg: err.message,\n          secretViewLoading: false\n        });\n      });\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    // TODO: find a better way to handle this case in all components.\n    const allAccounts =\n      this.state.allAccounts === undefined\n        ? [{ Type: \"NONE\", Address: \"None\" }]\n        : this.state.allAccounts;\n\n    const secretProp =\n      this.state.currSecretIndex === undefined\n        ? undefined\n        : JSON.parse(\n            JSON.stringify(this.state.allSecrets[this.state.currSecretIndex])\n          );\n\n    // TODO: this is a hack and needs to be cleaned up.\n    if (!this.isSetupComplete()) {\n      return (\n        <MuiThemeProvider theme={theme}>\n          <div className={classes.root}>\n            <CustomAppBar\n              allAccounts={this.state.allAccounts}\n              allContracts={this.state.allContracts}\n              allRoles={this.state.allRoles}\n              currMenuIndices={this.state.currMenuIndices}\n              setCurrMenuIndex={this.setCurrMenuIndex}\n              setupComplete={false}\n            />\n            <AppSetup\n              metamaskInstalled={this.state.metamaskInstalled}\n              metamaskUnlocked={this.state.metamaskUnlocked}\n              network={this.state.network}\n              disclaimerChecked={this.state.disclaimerChecked}\n              handleCheckDisclaimer={this.handleCheckDisclaimer}\n              handleLaunch={this.handleLaunch}\n              handleReload={this.handleReloadSetup}\n            />\n          </div>\n        </MuiThemeProvider>\n      );\n    }\n\n    const renderSecretPanel = () => {\n      if (\n        (this.state.secretViewErrMsg !== \"\" &&\n          this.state.secretViewErrMsg !== undefined) ||\n        this.state.secretViewLoading\n      ) {\n        return (\n          <Grid item>\n            <Paper align=\"center\">\n              <div style={{ padding: 10 }}>\n                {\"Message: \" + this.state.secretViewErrMsg}\n                {this.state.secretViewLoading ? (\n                  <div>\n                    <CircularProgress className={classes.progress} />\n                  </div>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </Paper>\n          </Grid>\n        );\n      }\n    };\n\n    const renderCheckInPanel = () => {\n      if (\n        (this.state.checkInErrMsg !== \"\" &&\n          this.state.checkInErrMsg !== undefined) ||\n        this.state.checkInLoading\n      ) {\n        return (\n          <Grid item>\n            <Paper align=\"center\">\n              <div style={{ padding: 10 }}>\n                {this.state.checkInErrMsg}\n                {this.state.checkInLoading ? (\n                  <div>\n                    <CircularProgress className={classes.progress} />\n                  </div>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </Paper>\n          </Grid>\n        );\n      }\n    };\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <div className={classes.root}>\n          <CustomAppBar\n            allAccounts={this.state.allAccounts}\n            allContracts={this.state.allContracts}\n            allRoles={this.state.allRoles}\n            currMenuIndices={this.state.currMenuIndices}\n            setCurrMenuIndex={this.setCurrMenuIndex}\n            setupComplete={true}\n          />\n\n          <Grid\n            container\n            spacing={8}\n            direction=\"row\"\n            alignItems=\"stretch\"\n            alignContent=\"center\"\n            justify=\"center\"\n            style={{ paddingTop: \"10px\" }}\n          >\n            {/* TODO: clean up the mmstate and figure out what to display. */}\n            <Grid item xs={10}>\n              {/* Outer grid*/}\n              {/*Left and right panes */}\n              <Grid container direction=\"row\" spacing={8}>\n                {/* Left pane */}\n                <Grid item container direction=\"column\" spacing={8} xs={4}>\n                  <Grid item>\n                    <Paper align=\"center\">\n                      {this.state.currMenuIndices.role === 0 ? (\n                        <SecretList\n                          currAccount={\n                            allAccounts[this.state.currMenuIndices[\"account\"]]\n                          }\n                          handleEditClick={this.handleEditClick}\n                          secrets={this.state.allSecrets}\n                          handleViewOnClick={this.handleViewOnClick}\n                          currSecretIndex={this.state.currSecretIndex}\n                          handleCancel={this.handleCancel}\n                          handleNewSecret={this.handleNewSecret}\n                          panelActionType={this.state.panelActionType}\n                          handleDelete={this.handleDelete}\n                          secretKeeperContract={this.state.secretKeeperContract}\n                          role={this.state.currMenuIndices.role}\n                        />\n                      ) : (\n                        <BeneficiarySecretList\n                          secrets={this.state.allSecrets}\n                          currSecretIndex={this.state.currSecretIndex}\n                          handleViewOnClick={this.handleViewOnClick}\n                          panelActionType={this.state.panelActionType}\n                          secretKeeperContract={this.state.secretKeeperContract}\n                          role={this.state.currMenuIndices.role}\n                          currAccount={\n                            allAccounts[this.state.currMenuIndices[\"account\"]]\n                          }\n                        />\n                      )}\n                    </Paper>\n                  </Grid>\n                  <Grid item>\n                    <Paper align=\"center\">\n                      <div style={{ padding: 10 }}>\n                        <strong>Last check in:</strong>\n                        {this.state.lastCheckIn}\n                      </div>\n                      <div style={{ padding: 10 }}>\n                        <strong>Current timestamp:</strong>\n                        {this.state.currTimestamp}\n                      </div>\n                      <div>\n                        {/*TODO: assuming accounts are loaded here, but you should actually check in case someone logged out.*/}\n                        <Button\n                          color=\"primary\"\n                          variant=\"contained\"\n                          className={classes.button}\n                          disabled={\n                            this.state.secretKeeperContract === undefined\n                          }\n                          onClick={this.handleCheckIn}\n                        >\n                          Check In\n                        </Button>\n                        <IconButton\n                          aria-label=\"Refresh\"\n                          disabled={\n                            this.state.secretKeeperContract === undefined\n                          }\n                        >\n                          <RefreshIcon onClick={this.handleRefresh} />\n                        </IconButton>\n                      </div>\n                    </Paper>\n                  </Grid>\n                  {renderCheckInPanel()}\n                  {renderSecretPanel()}\n                </Grid>\n                {/* Right pane */}\n                <Grid item xs={8}>\n                  <div className={classes.root}>\n                    <Paper align={\"center\"}>\n                      {this.state.currMenuIndices.role === 0 ? (\n                        <TestatorSecretView\n                          secretProp={secretProp}\n                          actionType={this.state.panelActionType}\n                          editableSecret={this.state.editableSecret}\n                          updateEditable={this.updateEditable}\n                          updateTimeEditable={this.updateTimeEditable}\n                          handleSave={this.handleSave}\n                          handleCancel={this.handleCancel}\n                          secretViewLoading={this.state.secretViewLoading}\n                        />\n                      ) : (\n                        <BeneficiarySecretView\n                          secretProp={secretProp}\n                          actionType={this.state.panelActionType}\n                          handleRetrieveSecret={this.handleRetrieveSecret}\n                          secretViewLoading={this.state.secretViewLoading}\n                          currTs={this.state.currTs}\n                          convertJSONToMS={this.convertJSONtoMS}\n                          decryptedSecret={this.state.decryptedSecret}\n                          decryptSecret={this.handleDecryptSecret(\n                            this.state.currSecretIndex\n                          )}\n                        />\n                      )}\n                    </Paper>\n                  </div>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nMainApp.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(MainApp);\n","import Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\nimport { HashLink } from \"react-router-hash-link\";\nimport React from \"react\";\nimport VpnKeyIcon from \"@material-ui/icons/VpnKey\";\nimport ComputerIcon from \"@material-ui/icons/Computer\";\nimport WebIcon from \"@material-ui/icons/Web\";\nimport SaveAltIcon from \"@material-ui/icons/SaveAlt\";\nimport TimerIcon from \"@material-ui/icons/Timer\";\nimport {\n  VerticalTimeline,\n  VerticalTimelineElement\n} from \"react-vertical-timeline-component\";\nimport \"react-vertical-timeline-component/style.min.css\";\n// Taken from https://github.com/stephane-monnot/react-vertical-timeline/tree/master/docs\nimport \"./static/react-vertical-timeline-main.css\";\n\nconst HomeContent = props => ({ match }) => {\n  const { classes } = props;\n  return (\n    <div>\n      <main className={classes.layout}>\n        {/* Hero unit */}\n        <div className={classes.heroContent}>\n          <Typography\n            component=\"h1\"\n            variant=\"h2\"\n            align=\"center\"\n            color=\"textPrimary\"\n            gutterBottom\n          >\n            DIY Digital Asset Inheritance\n          </Typography>\n          <Typography\n            variant=\"h6\"\n            align=\"center\"\n            color=\"textSecondary\"\n            component=\"p\"\n          >\n            SecretKeeper is a decentralized{\" \"}\n            <a\n              href=\"https://en.wikipedia.org/wiki/Dead_man%27s_switch#Software\"\n              target={\"_blank\"}\n              style={{ color: \"inherit\" }}\n            >\n              dead man's switch\n            </a>\n            , built with{\" \"}\n            <a\n              href=\"https://blog.enigma.co/defining-secret-contracts-f40ddee67ef2\"\n              target={\"_blank\"}\n              style={{ color: \"inherit\" }}\n            >\n              Enigma secret contracts\n            </a>{\" \"}\n            on the{\" \"}\n            <a\n              href=\"https://www.ethereum.org/\"\n              target={\"_blank\"}\n              style={{ color: \"inherit\" }}\n            >\n              Ethereum blockchain.\n            </a>\n          </Typography>\n          <div className={classes.heroButtons}>\n            <Grid container spacing={16} justify=\"center\">\n              <Grid item>\n                <HashLink\n                  to={\"/#why-use-secret-keeper\"}\n                  style={{ textDecoration: \"none\", color: \"inherit\" }}\n                >\n                  <Button variant=\"contained\" color=\"primary\">\n                    Learn more\n                  </Button>\n                </HashLink>\n              </Grid>\n              <Grid item>\n                <Link\n                  to={\"/app\"}\n                  style={{ textDecoration: \"none\", color: \"inherit\" }}\n                >\n                  <Button variant=\"outlined\" color=\"primary\">\n                    Try the app\n                  </Button>\n                </Link>\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n        {/* End hero unit */}\n        <Typography\n          variant=\"h6\"\n          align=\"center\"\n          color=\"textSecondary\"\n          component=\"p\"\n        >\n          <p>\n            Please be aware that the app and site are still under construction.\n          </p>\n          <p>\n            {\" \"}\n            This app is a proof of concept. Do not store real secrets or enter\n            any personal information when using the app.{\" \"}\n          </p>\n          <p>\n            Enigma is not currently live, so any secret contract features such\n            as the time delay release are unavailable until that point.\n          </p>\n          <p>\n            The current app can be used to publicly store PGP encrypted messages\n            on the Ropsten testnet. We recommend following our guide to encrypt\n            a message with a Ledger or Trezor to use with the app.\n          </p>\n        </Typography>\n        {/* Begin hero unit */}\n        <div className={classes.heroContent}>\n          <Typography\n            component=\"h1\"\n            variant=\"h2\"\n            align=\"center\"\n            color=\"textPrimary\"\n          >\n            <a id=\"why-use-secret-keeper\">Why use SecretKeeper?</a>\n          </Typography>\n        </div>\n        <div>\n          <Typography\n            variant=\"h6\"\n            align=\"center\"\n            color=\"textSecondary\"\n            component=\"p\"\n          >\n            <p>\n              Whether it's your cryptocurrency hardware wallet passphrase or the\n              location where you store your most precious beanie babies, some\n              secrets are too important to be forgotten.\n            </p>\n            <p>\n              When you're no longer around, these secrets should be available to\n              the people you trust.\n            </p>\n\n            <p>\n              {\" \"}\n              SecretKeeper allows you to store a secret on a decentralized\n              network that will be available 24/7 for the beneficiary to\n              retrieve, after a time delay has passed. If you keep a local copy\n              of this site, you will be able to use the contract as long as the\n              Ethereum and Enigma networks survive, regardless of whether this\n              server is around or not.\n            </p>\n          </Typography>\n        </div>\n        {/* End hero unit */}\n        {/* Begin hero unit */}\n        <div className={classes.heroContent}>\n          <Typography\n            component=\"h1\"\n            variant=\"h2\"\n            align=\"center\"\n            color=\"textPrimary\"\n            gutterBottom\n          >\n            How it works\n          </Typography>\n          <Typography\n            variant=\"h6\"\n            align=\"center\"\n            color=\"textSecondary\"\n            component=\"p\"\n          >\n            {\" \"}\n            The goal of SecretKeeper is to allow a testator (you) to store a\n            secret for a beneficiary (you or someone else), to be revealed at a\n            later date. Some features are not yet supported.{\" \"}\n          </Typography>\n        </div>\n        {/* End hero unit */}\n      </main>\n\n      <div style={{ background: \"#506184\" }}>\n        <VerticalTimeline>\n          <VerticalTimelineElement\n            className=\"vertical-timeline-element--work\"\n            iconStyle={{ background: \"rgb(0, 204, 0)\", color: \"#fff\" }}\n            icon={<VpnKeyIcon />}\n            position={\"left\"}\n          >\n            <h3 className=\"vertical-timeline-element-title\">\n              Beneficiary generates public key\n            </h3>\n            <h4 className=\"vertical-timeline-element-subtitle\">\n              Status: Supported\n            </h4>\n            <p>\n              The beneficiary uses a hardware wallet to generate a PGP public\n              key.\n            </p>\n          </VerticalTimelineElement>\n          <VerticalTimelineElement\n            className=\"vertical-timeline-element--work\"\n            iconStyle={{ background: \"rgb(33, 150, 243)\", color: \"#fff\" }}\n            icon={<ComputerIcon />}\n            position={\"right\"}\n          >\n            <h3 className=\"vertical-timeline-element-title\">\n              Testator encrypts secret locally\n            </h3>\n            <h4 className=\"vertical-timeline-element-subtitle\">\n              Status: Supported\n            </h4>\n            <p>\n              The testator encrypts a secret for the beneficiary, using the\n              beneficiary's PGP public key.\n            </p>\n          </VerticalTimelineElement>\n          <VerticalTimelineElement\n            className=\"vertical-timeline-element--work\"\n            iconStyle={{ background: \"rgb(33, 150, 243)\", color: \"#fff\" }}\n            icon={<WebIcon />}\n            position={\"right\"}\n          >\n            <h3 className=\"vertical-timeline-element-title\">\n              Testator encrypts secret in browser\n            </h3>\n            <h4 className=\"vertical-timeline-element-subtitle\">\n              Status: Not yet supported (skipped)\n            </h4>\n            <p>\n              The testator encrypts this message another time for the Enigma\n              enclave, using the enclave's public key.\n            </p>\n          </VerticalTimelineElement>\n          <VerticalTimelineElement\n            className=\"vertical-timeline-element--work\"\n            iconStyle={{ background: \"rgb(33, 150, 243)\", color: \"#fff\" }}\n            icon={<SaveAltIcon />}\n            position={\"right\"}\n          >\n            <h3 className=\"vertical-timeline-element-title\">\n              Testator stores secret\n            </h3>\n            <h4 className=\"vertical-timeline-element-subtitle\">\n              Status: Partially supported (mocked)\n            </h4>\n            <p>\n              The testator stores the twice encrypted secret, a time delay, and\n              the beneficiary's Ethereum address in a secret contract.\n            </p>\n          </VerticalTimelineElement>\n          <VerticalTimelineElement\n            className=\"vertical-timeline-element--work\"\n            iconStyle={{ background: \"rgb(33, 150, 243)\", color: \"#fff\" }}\n            icon={<TimerIcon />}\n            position={\"right\"}\n          >\n            <h3 className=\"vertical-timeline-element-title\">\n              Testator checks in\n            </h3>\n            <h4 className=\"vertical-timeline-element-subtitle\">\n              Status: Partially supported (mocked)\n            </h4>\n            <p>\n              The testator checks in with the contract periodically. If the time\n              delay amount passes after the testator's most recent check in\n              time, the secret is unlocked.\n            </p>\n          </VerticalTimelineElement>\n          <VerticalTimelineElement\n            className=\"vertical-timeline-element--work\"\n            iconStyle={{ background: \"rgb(0, 204, 0)\", color: \"#fff\" }}\n            icon={<VpnKeyIcon />}\n            position={\"left\"}\n          >\n            <h3 className=\"vertical-timeline-element-title\">\n              Beneficiary decrypts secret\n            </h3>\n            <h4 className=\"vertical-timeline-element-subtitle\">\n              Status: Partially supported (mocked)\n            </h4>\n            <p>\n              The beneficiary triggers the secret contract. If the secret is\n              unlocked, the Enigma enclave removes the second layer of\n              encryption, revealing the first encrypted secret.*\n            </p>\n          </VerticalTimelineElement>\n        </VerticalTimeline>\n      </div>\n      <Typography\n        variant=\"h6\"\n        align=\"center\"\n        color=\"textSecondary\"\n        component=\"p\"\n      >\n        {\" \"}\n        *This reveals the first encrypted secret to the beneficiary and everyone\n        else. Based on what Enigma supports, there may be functionality to\n        encrypt the secret for the beneficiary using their ETH address in the\n        future, to communicate it to them even more securely.\n      </Typography>\n    </div>\n  );\n};\n\nexport default HomeContent;\n","import React from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport guideContentPath from \"./static/hardware_wallet_instructions.md\";\n\nconst DefaultCodeRenderer = ReactMarkdown.renderers.code;\nconst DefaultBQRenderer = ReactMarkdown.renderers.blockquote;\n\nconst CodeRenderer = props => {\n  return (\n    <div\n      className=\"bg-black-10 br2 pa2\"\n      style={{\n        overflowY: \"scroll\",\n        backgroundColor: \"black\",\n        color: \"white\"\n      }}\n    >\n      <DefaultCodeRenderer {...props} />\n    </div>\n  );\n};\n\nconst BQRenderer = props => {\n  return (\n    <div\n      className=\"bg-black-10 br2 pa2\"\n      style={{\n        backgroundColor: \"lightGray\",\n        padding: \"10px\"\n      }}\n    >\n      <DefaultBQRenderer {...props} />\n    </div>\n  );\n};\n\nconst GuideContentFunc = props => () => {\n  return (\n    <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\n      <GuideContent {...props} />\n    </div>\n  );\n};\n\nclass GuideContent extends React.Component {\n  state = {\n    terms: \"\"\n  };\n\n  componentWillMount() {\n    fetch(guideContentPath)\n      .then(response => response.text())\n      .then(text => {\n        this.setState({ terms: text });\n      });\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <ReactMarkdown\n        source={this.state.terms}\n        renderers={{ code: CodeRenderer, blockquote: BQRenderer }}\n      />\n    );\n  }\n}\n\nexport default GuideContentFunc;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst FAQContent = props => ({ match }) => {\n  const { classes } = props;\n  return (\n    <div>\n      <Typography\n        variant=\"h6\"\n        align=\"center\"\n        color=\"textSecondary\"\n        component=\"p\"\n        style={{ paddingTop: \"50px\" }}\n      >\n        There's nothing here right now, ask some questions!\n      </Typography>\n    </div>\n  );\n};\n\nexport default FAQContent;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport HomeContent from \"./HomeContent\";\nimport GuideContentFunc from \"./GuideContent\";\nimport FAQContentFunc from \"./FAQContent\";\nimport { Route } from \"react-router-dom\";\nimport { Switch } from \"react-router\";\nconst styles = theme => ({\n  \"@global\": {\n    body: {\n      backgroundColor: theme.palette.common.white\n    }\n  },\n  appBar: {\n    position: \"relative\"\n  },\n  toolbarTitle: {\n    flex: 1\n  },\n  layout: {\n    width: \"auto\",\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(900 + theme.spacing.unit * 3 * 2)]: {\n      width: 900,\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  },\n  heroContent: {\n    maxWidth: 800,\n    margin: \"0 auto\",\n    padding: `${theme.spacing.unit * 8}px 0 ${theme.spacing.unit * 6}px`\n  },\n  heroButtons: {\n    marginTop: theme.spacing.unit * 4\n  },\n  footer: {\n    marginTop: theme.spacing.unit * 8,\n    borderTop: `1px solid ${theme.palette.divider}`,\n    padding: `${theme.spacing.unit * 6}px 0`\n  },\n  icon: {\n    marginRight: theme.spacing.unit * 2\n  }\n});\n\nconst footers = [\n  {\n    title: \"Company\",\n    description: [\n      \"About\",\n      <a\n        href={\"https://secretkeeperapp.wordpress.com/contact/\"}\n        style={{ color: \"inherit\" }}\n      >\n        Contact\n      </a>\n    ]\n  },\n  {\n    title: \"Features\",\n    description: [\"Time delay\", \"Secret splitting\"]\n  },\n  {\n    title: \"Resources\",\n    description: [\n      <Link to={\"/guide\"} style={{ color: \"inherit\" }}>\n        Guide\n      </Link>,\n      \"FAQ\"\n    ]\n  },\n  {\n    title: \"Legal\",\n    description: [\"Disclaimer\", \"Terms of use\"]\n  }\n];\n\nfunction Homepage(props) {\n  const { classes } = props;\n\n  return (\n    <React.Fragment>\n      <AppBar position=\"static\" color=\"default\" className={classes.appBar}>\n        <Toolbar>\n          <LockIcon className={classes.icon} />\n          <Typography\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.toolbarTitle}\n          >\n            <Link to={\"/\"} style={{ textDecoration: \"none\", color: \"inherit\" }}>\n              SecretKeeper\n            </Link>\n          </Typography>\n\n          <Link to={\"/\"} style={{ textDecoration: \"none\", color: \"inherit\" }}>\n            <Button>Home</Button>\n          </Link>\n          <Link\n            to={\"/guide\"}\n            style={{ textDecoration: \"none\", color: \"inherit\" }}\n          >\n            <Button>Guide</Button>\n          </Link>\n          <a\n            href={\"http://www.secretkeeperapp.wordpress.com\"}\n            style={{ textDecoration: \"none\", color: \"inherit\" }}\n          >\n            <Button>Blog</Button>\n          </a>\n          <Link to={\"/faq\"} style={{ textDecoration: \"none\" }}>\n            <Button>FAQ</Button>\n          </Link>\n          <Link to={\"/app\"} style={{ textDecoration: \"none\" }}>\n            <Button color=\"primary\" variant=\"outlined\">\n              App\n            </Button>\n          </Link>\n        </Toolbar>\n      </AppBar>\n      <Switch>\n        <Route exact path=\"/\" component={HomeContent(props)} />\n        <Route path=\"/guide\" component={GuideContentFunc(props)} />\n        <Route path=\"/faq\" component={FAQContentFunc(props)} />\n      </Switch>\n      {/* Footer */}\n      <footer className={classNames(classes.footer, classes.layout)}>\n        <Grid container spacing={32} justify=\"space-evenly\">\n          {footers.map(footer => (\n            <Grid item xs key={footer.title}>\n              <Typography variant=\"h6\" color=\"textPrimary\" gutterBottom>\n                {footer.title}\n              </Typography>\n              {footer.description.map(item => (\n                <Typography\n                  key={item}\n                  variant=\"subtitle1\"\n                  color=\"textSecondary\"\n                >\n                  {item}\n                </Typography>\n              ))}\n            </Grid>\n          ))}\n        </Grid>\n      </footer>\n      {/* End footer */}\n      <Typography\n        variant=\"h6\"\n        color=\"inherit\"\n        align={\"center\"}\n        noWrap\n        style={{ paddingTop: \"50px\" }}\n        className={classes.toolbarTitle}\n      >\n        Copyright  2019. All rights reserved.\n      </Typography>\n    </React.Fragment>\n  );\n}\n\nHomepage.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Homepage);\n","import React from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport MainApp from \"./MainApp\";\nimport Homepage from \"./Homepage\";\nimport CssBaseline from \"@material-ui/core/CssBaseline/CssBaseline\";\n\nclass Routing extends React.Component {\n  render() {\n    return (\n      <div>\n        <CssBaseline />\n        <Router>\n          <div>\n            <Route exact path=\"/\" component={Home} />\n            {/* TODO: should this be a multi part route? */}\n            <Route exact path=\"/guide\" component={Home} />\n            <Route exact path={\"/faq\"} component={Home} />\n            <Route path=\"/app\" component={App} />\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\nfunction App() {\n  return <MainApp />;\n}\n\nfunction Home() {\n  return <Homepage />;\n}\n\nexport default Routing;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ReactGA from \"react-ga\";\nimport Routing from \"./Routing\";\n\nfunction initializeReactGA() {\n  ReactGA.initialize(\"UA-99140189-2\");\n  ReactGA.pageview(\"/homepage\");\n}\n\ninitializeReactGA();\n\nReactDOM.render(<Routing />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}